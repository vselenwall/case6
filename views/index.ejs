<!DOCTYPE html>
<html lang="sv">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar App</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="/styles/style.css">

</head>

<body>

    <%- include('partials/header.ejs') %>

    <main>

        <!-- WEEK SECTION -->

        <div class="week-section">

            <div class="week-header">
                <div id="previous"><i class="fa-solid fa-angle-left"></i></div>
                <h3>Week</h3>
                <div id="next"><i class="fa-solid fa-angle-right"></i></div>
            </div>

            <!-- WEEKDAYS -->

            <div class="weekdays">
                <div class="mon">M
                </div>
                <div class="tue">T
                </div>
                <div class="wed">W
                </div>
                <div class="thurs">T
                </div>
                <div class="fri">F
                </div>
                <div class="sat">S
                </div>
                <div class="sun">S
                </div>
            </div>
            <div id="calendar-dates"></div>
        </div>

        <!-- POP UP FORM -->

        <div class="overlay">
            <div id="event-creator">
                <form action="/index" method="post">
                    <label for="title">Title</label><br>
                    <input type="text" id="title" name="title" required><br>
                    <label for="date">Date</label>
                    <input type="date" id="date" name="date" value="2022-05-31" min="2022-01-01" max="2022-12-31">
                    <br><br><input type="submit" id="addEvent" class="event-button" value="Create event">
                </form>
            </div>
        </div>

        <div id="eventBox"></div>

        <ul>

            <!-- BUTTON: SHOW ALL EVENTS -->

            <button id="show-all">Show all events</button>

            <!-- EVENT LIST -->

            <% locals.events.forEach(element => { %>
            <li id="list">
                <div id="element-date">
                    <%= element.date %>
                </div>
                <div class="element-title">
                    <p>
                        <%= element.title %>
                    </p>
                </div>
                <button class="edit" data-id="<%= element.id %>" id="<%= element.id %>"><i
                        class="fa-solid fa-pen"></i></button>
                <button class="remove" onclick="deleteEvent(<%= element.id %>)"><i
                        class="fa-solid fa-circle-minus"></i></button>
            </li>
            <% }) %>
        </ul>

    </main>

    <%- include('partials/footer.ejs') %>

    <div id="overlay-bg"></div>

    <script src="/js/functions.js"></script>

</body>

</html>